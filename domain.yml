version: '2.0'
config:
  store_entities_as_slots: true
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
- start:
    use_entities: true
    ignore_entities:
      - sentiment
- goodbye:
    use_entities: true
    ignore_entities:
      - sentiment
- bot_challenge:
    use_entities: true
    ignore_entities:
      - sentiment
- affirm:
    use_entities: true
    ignore_entities:
      - sentiment
- deny:
    use_entities: true
    ignore_entities:
      - sentiment
- record:
    use_entities: true
    ignore_entities:
      - sentiment
- stop:
    use_entities: true
    ignore_entities:
      - sentiment
- profile_form:
    use_entities: true
    ignore_entities:
      - sentiment
- time_slot:
    use_entities: true
    ignore_entities:
      - sentiment
- set_slot:
    use_entities: true
    ignore_entities:
      - sentiment
- not_sure:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_inconvenient:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_motivator:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_rating_importance:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_rating_confidence:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_self_efficacy:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_self_efficacy_further:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_goal_setting:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_change_topic:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_step_count:
    use_entities: true
    ignore_entities:
      - sentiment
- step_count_goal_update:
    use_entities: true
    ignore_entities:
      - sentiment

entities:
- number
- name
- sentiment
- language_id
- DATE
- TIME
- motivator

slots:
  polarity:
    type: categorical
    values:
      - neg
      - pos
      - neu
    initial_value: null
    auto_fill: false
    influence_conversation: true
  DATE:
    type: any
    initial_value: null
    auto_fill: true
    influence_conversation: false
  TIME:
    type: any
    initial_value: null
    auto_fill: true
    influence_conversation: false
  name:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: true
  step_count_goal:
    type: text
    initial_value: 5000
    auto_fill: false
    influence_conversation: true
  update_goal_value:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: true
  daily_step:
    type: text
    initial_value: 3000
    auto_fill: true
    influence_conversation: true
  profile:
    type: categorical
    values:
      - neg
      - pos
      - neu
    initial_value: null
    auto_fill: false
    influence_conversation: true
  language_id:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  importance_rate:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  rating_importance_continue:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false  
  rating_importance_less_reason:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false  
  rating_importance_more_reason:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  efficacy_recall:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  efficacy_reason_for_challenge_success:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  efficacy_feel_of_challenge:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  efficacy_remediate_challenge:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  efficacy_learnt_from_challenge:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  confidence_rate:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  rating_confidence_continue:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false  
  rating_confidence_less_reason:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false  
  rating_confidence_more_reason:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  motivator:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: true
  motivator_q1:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  motivator_q2:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  motivator_q3:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  motivator_q4:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_satisfactory_thing:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_satisfactory_improve:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_not_satisfactory_thing:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_not_satisfactory_to_satisfy_thing:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  left_topic:
    type: list
    initial_value: null
    auto_fill: false
    influence_conversation: true
  talked_topic:
    type: list
    initial_value: null
    auto_fill: false
    influence_conversation: true
  next_topic:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: true
  switch_greeting:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  switch_pa:
    type: text
    initial_value: "switch_pa"
    auto_fill: false
    influence_conversation: false
  switch_rating_importance:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  switch_rating_confidence:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  switch_self_efficacy:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  switch_motivator:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false


responses:
  utter_ask_if_have_time:
  - text: I'm sorry to hear that you are inconvenient. Do you think you will have time later today? 
  utter_ask_available_time_slot:
  - text: Great! Around what time would that be? 
  utter_confirm_time_slot:
  - text: Okay, I'll check up on you around {TIME} then. See you later!
  utter_not_sure_available_time:
  - text: That's fine, I'll try again at a random time later today. See you later!
  utter_stop_inconvenient:
  - text: It seems not be a good time. No problem, I will check you up sometime later! See you soon!

  utter_stop_for_all:
  - text: Seems you want leave, no problem at all! Look forward to our next talk soon!
  utter_goodbye:
  - text: Nice talk to you! Bye, see you soon! 
  utter_stop_ask_new_topic:
  - text: Oh, it seems it's not a good time;) No problme at all, I will catch you up next day! Bye!
  
  utter_ask_permission_topic_goal_setting:
  - text: Let's talk about your daily step count. Does that sound good to you?
    buttons:
    - title: "Sure"
      payload: '/trigger_goal_setting'
    - title: "No, I don't want to."
      payload: '/deny'
  utter_goal_confirm:
  - text: In an earlier conversation you told me your daily step count goal is {step_count_goal}. Is this still correct?
  utter_goal_update:
  - text: That is okay, we can change it.
  utter_ask_update_goal_value:
  - text: What do you want your new daily step count goal to be?
  utter_goal_reflection:
  - text: Great, so your daily step count goal is {update_goal_value}. That sounds good to me! Let's try and achieve this goal together. 
  

  utter_self_intro:
  - text: Hi, I am the TIMELY chatbot, your health assistant, hope can help you build healthier lifestyle against the cardiac issues! I will help you with, for instance, trying to be more physically active! I will do this by checking in with you, having short talks, and do some exercises!
  utter_ask_name:
  - text: It is so nice to have a chat with you. How I can address you?
  utter_greeting:
  - text: Hi, {name}, How are you today?
  utter_greeting_reply_pos:
  - text: Great to hear that you feel good! 
  utter_greeting_reply_neg:
  - text: I'm sorry to hear that you are not feeling well at the moment. Do you still want to continue chatting with me?
  utter_ask_if_talk:
  - text: Can you make some time so we can have a talk about your rehabilitation process? 
    buttons:
    - title: "Yes!"
      payload: "/affirm"
    - title: "No, I don't want to"
      payload: "/trigger_inconvenient"
    button_type: vertical
  utter_ask_rehabilitation_type:
  - text: There are many factors for cardiac rehabilitation, which one do you want to talk about today?
    buttons:
    - title: "Physical Activity"
      payload: "/trigger_pa"
    - title: "Diet"
      payload: "/trigger_pa"
    - title: "Mental Issues"
      payload: "/trigger_pa"
    button_type: vertical
  utter_stop_greeting:
  - text: I hope you'll feel better soon! I'll check up on you later. See you soon {name}!
  utter_ask_permission_topic_pa:
  - text: Let's talk about the role of physical exercise in your personal life! 
    buttons:
    - title: "Yes!"
      payload: "/trigger_pa"
    - title: "No, I don't want to"
      payload: "/deny"
    button_type: vertical
  utter_ask_pa_satisfactory_level:
  - text: Do you like your current level of physical activity? Keep in mind that physical activity can mean a lot of things. We often talk about walking but it can also be gardening, taking stairs, go somewhere by bike, doing household chores, etc. Basically anything where you are not sitting or lying down!
  utter_pa_stop:
  - text: Seems it's not a good time to talk about physical activity. Never mind, we can talk about it later if you want!
  
  utter_pa_satisfactory_reflection:
  - text: Good to hear you like your current level of physical activity! 
  utter_ask_pa_satisfactory_thing:
  - text: Can you give me one thing you like about your current lifestyle?
  utter_ask_pa_satisfactory_improve:
  - text: Can you give me one thing you would still like to improve about your level of physical activity?
  utter_pa_satisfactory_final_reflection:
  - text: It was nice to talk about your current level of physical activity. I am confident we can work together to keep you happy and satisfied with your lifestyle!
  
  utter_pa_not_satisfactory_reflection:
  - text: Sorry to hear that!
  utter_ask_pa_not_satisfactory_thing:
  - text: Just wondering what gives you the feeling that you are not happy with your current level of physical activity?
  utter_ask_pa_not_satisfactory_to_satisfy_thing:
  - text: However, can you image or give one thing you like about your current lifestyle?
  utter_pa_not_satisfactory_final_reflection:
  - text: It was nice to talk to you about your current level of physical activity. Although you may not be satisfied with it yet, we can work together to help you reach your goals!
  
  
  
  utter_ask_permission_topic_rating_importance:
  - text: Shall we talk about how important walking is to you?
    buttons:
    - title: "Sure!"
      payload: '/trigger_rating_importance'
    - title: "No, I don't want to."
      payload: '/deny'

  utter_rating_importance_ask_if_show_video:
  - text: For a lot of people it is motivating to know the benefits of pa on their body. Would you be interested in an informational video about "changing physical activity can cause in your body"? 
  utter_rating_importance_show_video:
  #     payload:
  #     type: video
  - text: "Cool, let's go to the video!"

  utter_ask_permission_topic_rating_confidence:
  - text: Shall we talk about how confident you are in reaching your daily step count goal tomorrow?
    buttons:
    - title: "Sure"
      payload: '/trigger_rating_confidence'
    - title: "No, I don't want to."
      payload: '/deny'
  utter_rating_confidence_no_talk:
  - text: Seems it's not a good time to talk about your confidence. Never mind, we can talk about it later if you want!
 
  utter_ask_permission_topic_self_efficacy:
  - text: I can help you with raising your confidence. Do you want to have a talk about this? 
    buttons:
    - title: "Sure!"
      payload: '/trigger_self_efficacy'
    - title: "No, I don't want to."
      payload: '/deny'
  utter_self_efficacy_no_further_talk:
  - text: I appreciate you telling me about your previous challenges and your feelings regarding these challenges. I do think you can learn a lot after you've experienced a challenge!

  utter_ask_permission_topic_step_count:
  - text: Let's talk about the role of step count in your personal daily life. 
    buttons:
    - title: "Yes!"
      payload: "/trigger_goal_setting"
    - title: "No, I don't want to"
      payload: "/deny"
    button_type: vertical
  utter_step_count_stop:
  - text: Seems it's not a good time to talk about step count. Never mind, we can talk about it later if you want!
  utter_ask_satisfactory_daily_step:
  - text: Are you happy with this amount of steps today so far?
  utter_ask_feeling_complete_step_goal:
  - text: Amazing! You did great. How do you feel about completing this goal? 
  utter_reflection_step_goal_complete:
  - text: Great to hear. You should be proud of yourself!
  utter_reflection_step_goal_not_complete:
  - text: Pity to know that you don't think you can achieve the goal.
  utter_daily_step_not_satisfy:
  - text: I'm sorry to hear that. But {daily_step} is not nothing!


actions:
- '...'
- action_submit_profile_form_to_DB
- action_fill_slots_from_db
- action_confirm_profile_after_db
- action_record_history
- action_reflection
- action_polarity_reset
- action_polarity
- action_step_count
- action_profile
- action_connector_change_topic_model
- action_connector_confirm_next_topic
- action_talk_profile
- action_pa_reason_nlu
- action_pa_pro_reason_reflection
- action_pa_con_reason_reflection
- action_retrieval_db_profile
- action_retrieval_db_goal
- action_retrieval_daily_step_count
- action_ask_importance_rate
- action_rating_importance_judge
- action_ask_rating_importance_less_reason
- action_ask_rating_importance_more_reason
- action_rating_importance_stop
- action_ask_confidence_rate
- action_rating_confidence_judge
- action_ask_rating_confidence_less_reason
- action_ask_rating_confidence_more_reason
- action_rating_confidence_stop
- action_ask_efficacy_recall
- action_ask_efficacy_reason_for_challenge_success
- action_ask_efficacy_feel_of_challenge
- action_ask_efficacy_remediate_challenge
- action_efficacy_further_talk
- action_ask_efficacy_learnt_from_challenge
- action_efficacy_complete_reflection
- action_pa_complete_reflection


forms:
  name_form:
    required_slots:
      name:
      - not_intent: stop
        type: from_text

  goal_update_form:
    required_slots:
      update_goal_value:
      - not_intent: stop
        type: from_text

  pa_satisfy_form:
    required_slots:
      pa_satisfactory_thing:
      - not_intent: stop
        type: from_text
      pa_satisfactory_improve:
      - not_intent: stop
        type: from_text

  pa_not_satisfy_form:
    required_slots:
      pa_not_satisfactory_thing:
      - not_intent: stop
        type: from_text
      pa_not_satisfactory_to_satisfy_thing:
      - not_intent: stop
        type: from_text

  rating_importance_form:
    required_slots:
      importance_rate:
      - not_intent: stop
        type: from_text

  rating_importance_medium_importance_form:
    required_slots:
      rating_importance_less_reason:
      - not_intent: stop
        type: from_text
      rating_importance_more_reason:
      - not_intent: stop
        type: from_text
    
  rating_importance_low_importance_form:
    required_slots:
      rating_importance_more_reason:
      - not_intent: stop
        type: from_text
  
  rating_confidence_form:
    required_slots:
      confidence_rate:
      - not_intent: stop
        type: from_text
        
  rating_confidence_medium_confidence_form:
    required_slots:
      rating_confidence_less_reason:
      - not_intent: stop
        type: from_text
      rating_confidence_more_reason:
      - not_intent: stop
        type: from_text

  rating_confidence_low_confidence_form:
    required_slots:
      rating_confidence_more_reason:
      - not_intent: stop
        type: from_text

  self_efficacy_form:
    required_slots:
      efficacy_recall:
      - not_intent: stop
        type: from_text
      efficacy_reason_for_challenge_success:
      - not_intent: stop
        type: from_text
      efficacy_feel_of_challenge:
      - not_intent: stop
        type: from_text
      efficacy_remediate_challenge:
      - not_intent: stop
        type: from_text
      
  self_efficacy_further_form:
    required_slots:
      efficacy_learnt_from_challenge:
      - not_intent: stop
        type: from_text
  
  motivator_form:
    required_slots:
      motivator_q1:
      - not_intent: stop
        type: from_text
      motivator_q2:
      - not_intent: stop
        type: from_text
      motivator_q3:
      - not_intent: stop
        type: from_text
      motivator_q4:
      - not_intent: stop
        type: from_text

e2e_actions: []