version: '2.0'
config:
  store_entities_as_slots: true
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
- start:
    use_entities: true
    ignore_entities:
      - sentiment
- goodbye:
    use_entities: true
    ignore_entities:
      - sentiment
- bot_challenge:
    use_entities: true
    ignore_entities:
      - sentiment
- affirm:
    use_entities: true
    ignore_entities:
      - sentiment
- deny:
    use_entities: true
    ignore_entities:
      - sentiment
- record:
    use_entities: true
    ignore_entities:
      - sentiment
- stop:
    use_entities: true
    ignore_entities:
      - sentiment
- profile_form:
    use_entities: true
    ignore_entities:
      - sentiment
- time_slot:
    use_entities: true
    ignore_entities:
      - sentiment
- set_slot:
    use_entities: true
    ignore_entities:
      - sentiment
- not_sure:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_inconvenient:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_rating_importance:
    use_entities: true
    ignore_entities:
      - sentiment
- trigger_change_topic:
    use_entities: true
    ignore_entities:
      - sentiment

entities:
- number
- name
- sentiment
- DATE
- TIME

slots:
  polarity:
    type: categorical
    values:
      - neg
      - pos
      - neu
    initial_value: null
    auto_fill: false
    influence_conversation: true
  DATE:
    type: any
    initial_value: null
    auto_fill: true
    influence_conversation: false
  TIME:
    type: any
    initial_value: null
    auto_fill: true
    influence_conversation: false
  name:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: true
  importance_rate:
    type: text
    initial_value: null
    auto_fill: true
    influence_conversation: false
  rating_importance_continue:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false  
  rating_importance_less_reason:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false  
  rating_importance_more_reason:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_satisfactory_thing:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_satisfactory_improve:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_not_satisfactory_thing:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  pa_not_satisfactory_to_satisfy_thing:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  all_topic:
    type: list
    initial_value: null
    auto_fill: false
    influence_conversation: true
  next_topic:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: true
  switch_greeting:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false
  switch_pa:
    type: text
    initial_value: "switch_pa"
    auto_fill: false
    influence_conversation: false
  switch_rating_importance:
    type: text
    initial_value: null
    auto_fill: false
    influence_conversation: false


responses:
  utter_ask_if_have_time:
  - text: I'm sorry to hear that you are inconvenient. Do you think you will have time later today? 
  utter_ask_available_time_slot:
  - text: Great! Around what time would that be? 
  utter_confirm_time_slot:
  - text: Okay, I'll check up on you around {TIME} then. See you later!
  utter_not_sure_available_time:
  - text: That's fine, I'll try again at a random time later today. See you later!
  utter_stop_inconvenient:
  - text: It seems not be a good time. No problem, I will check you up sometime later! See you soon!

  utter_stop_for_all:
  - text: Seems you want leave, no problem at all! Look forward to our next talk soon!
  utter_goodbye:
  - text: Nice talk to you! Bye, see you soon! 
  utter_stop_ask_new_topic:
  - text: Oh, it seems it's not a good time;) No problme at all, I will catch you up next day! Bye!
  
  utter_self_intro:
  - text: Hi, I am the TIMELY chatbot, your health assistant, hope can help you build healthier lifestyle against the cardiac issues! I will help you with, for instance, trying to be more physically active! I will do this by checking in with you, having short talks, and do some exercises!
  utter_ask_name:
  - text: It is so nice to have a chat with you. How I can address you?
  utter_greeting:
  - text: Hi, {name}, How are you today?
  utter_greeting_reply_pos:
  - text: Great to hear that you feel good! 
  utter_greeting_reply_neg:
  - text: I'm sorry to hear that you are not feeling well at the moment. Do you still want to continue chatting with me?
  utter_ask_if_talk:
  - text: Can you make some time so we can have a talk about your rehabilitation process? 
    buttons:
    - title: "Yes!"
      payload: "/affirm"
    - title: "No, I don't want to"
      payload: "/trigger_inconvenient"
    button_type: vertical
  utter_ask_rehabilitation_type:
  - text: There are many factors for cardiac rehabilitation, which one do you want to talk about today?
    buttons:
    - title: "Physical Activity"
      payload: "/trigger_pa"
    - title: "Diet"
      payload: "/trigger_pa"
    - title: "Mental Issues"
      payload: "/trigger_pa"
    button_type: vertical
  utter_stop_greeting:
  - text: I hope you'll feel better soon! I'll check up on you later. See you soon {name}!
  utter_ask_permission_topic_pa:
  - text: Let's talk about the role of physical exercise in your personal life! 
    buttons:
    - title: "Yes!"
      payload: "/trigger_pa"
    - title: "No, I don't want to"
      payload: "/deny"
    button_type: vertical
  utter_ask_pa_satisfactory_level:
  - text: Do you like your current level of physical activity? Keep in mind that physical activity can mean a lot of things. We often talk about walking but it can also be gardening, taking stairs, go somewhere by bike, doing household chores, etc. Basically anything where you are not sitting or lying down!
  utter_pa_stop:
  - text: Seems it's not a good time to talk about physical activity. Never mind, we can talk about it later if you want!
  
  utter_pa_satisfactory_reflection:
  - text: Good to hear you like your current level of physical activity! 
  utter_ask_pa_satisfactory_thing:
  - text: Can you give me one thing you like about your current lifestyle?
  utter_ask_pa_satisfactory_improve:
  - text: Can you give me one thing you would still like to improve about your level of physical activity?
  utter_pa_satisfactory_final_reflection:
  - text: It was nice to talk about your current level of physical activity. I am confident we can work together to keep you happy and satisfied with your lifestyle!
  
  utter_pa_not_satisfactory_reflection:
  - text: Sorry to hear that!
  utter_ask_pa_not_satisfactory_thing:
  - text: Just wondering what gives you the feeling that you are not happy with your current level of physical activity?
  utter_ask_pa_not_satisfactory_to_satisfy_thing:
  - text: However, can you image or give one thing you like about your current lifestyle?
  utter_pa_not_satisfactory_final_reflection:
  - text: It was nice to talk to you about your current level of physical activity. Although you may not be satisfied with it yet, we can work together to help you reach your goals!
  
  
  
  utter_ask_permission_topic_rating_importance:
  - text: Shall we talk about how important walking is to you?
    buttons:
    - title: "Sure!"
      payload: '/trigger_rating_importance'
    - title: "No, I don't want to."
      payload: '/deny'

  utter_rating_importance_ask_if_show_video:
  - text: For a lot of people it is motivating to know the benefits of pa on their body. Would you be interested in an informational video about "changing physical activity can cause in your body"? 
  utter_rating_importance_show_video:
  #     payload:
  #     type: video
  - text: "Cool, let's go to the video!"



actions:
- '...'
- action_record_history
- action_connector_change_topic_model
- action_ask_importance_rate
- action_rating_importance_judge
- action_ask_rating_importance_less_reason
- action_ask_rating_importance_more_reason
- action_rating_importance_stop
- action_pa_complete_reflection


forms:
  name_form:
    required_slots:
      name:
      - not_intent: stop
        type: from_text

  pa_satisfy_form:
    required_slots:
      pa_satisfactory_thing:
      - not_intent: stop
        type: from_text
      pa_satisfactory_improve:
      - not_intent: stop
        type: from_text

  pa_not_satisfy_form:
    required_slots:
      pa_not_satisfactory_thing:
      - not_intent: stop
        type: from_text
      pa_not_satisfactory_to_satisfy_thing:
      - not_intent: stop
        type: from_text

  rating_importance_form:
    required_slots:
      importance_rate:
      - not_intent: stop
        type: from_text

  rating_importance_medium_importance_form:
    required_slots:
      rating_importance_less_reason:
      - not_intent: stop
        type: from_text
      rating_importance_more_reason:
      - not_intent: stop
        type: from_text
    
  rating_importance_low_importance_form:
    required_slots:
      rating_importance_more_reason:
      - not_intent: stop
        type: from_text

e2e_actions: []